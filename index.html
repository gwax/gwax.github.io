<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="The personal website of George Leslie-Waksman.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>gwax</title>
<link rel="stylesheet" href="/assets/css/baguetteBox.min.css" type="text/css">
<link rel="stylesheet" href="/assets/css/normalize.min.css" type="text/css">
<link rel="stylesheet" href="/assets/css/skeleton.min.css" type="text/css">
<link href="/assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="/assets/css/code.css" rel="stylesheet" type="text/css">
<link href="/assets/css/theme.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#304FE1">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="/rss.xml">
<link rel="canonical" href="https://gwax.com/index.html">
<link rel="icon" href="/favicon.ico" sizes="32x32">
<link rel="next" href="/index-3.html" type="text/html">
<!--[if lt IE 9]><script src="/assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link rel="prefetch" href="/blog/2019/10/uncut-jewel.html" type="text/html">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
</head>
<body>
    <div class="container">
         
    <header id="header"><div class="row">
            <div class="six columns">
                
    <h1 id="brand" class="title"><a href="/" title="gwax" rel="home">

        <span id="blog-title">gwax</span>
    </a></h1>

            </div>
            

        </div>
    </header><nav class="bar"><li><a href="/projects.html">Projects</a></li>
            <li>
<span>Blog</span>
                <ul>
<li><span class="initial">Posts</span></li>
            <li><a href="/archive.html">Archives</a></li>
            <li><a href="/categories/index.html">Tags &amp; Categories</a></li>
            <li><a href="/rss.xml">RSS feed</a></li>

                </ul>
</li>
            <li>
<span>About</span>
                <ul>
<li><a href="/about/about-person.html">The person</a></li>
            <li><a href="/about/about-site.html">The site</a></li>

                </ul>
</li>
            <li><a href="/about/about-person.html#contact">Contact</a></li>

    

    </nav><nav class="select"><select><option value="/projects.html">Projects</option>
<optgroup label="Blog">
<option value="/index.html" selected disabled class="initial">Posts</option>
<option value="/archive.html">Archives</option>
<option value="/categories/index.html">Tags &amp; Categories</option>
<option value="/rss.xml">RSS feed</option>
</optgroup>
<optgroup label="About">
<option value="/about/about-person.html">The person</option>
<option value="/about/about-site.html">The site</option>
</optgroup>
<option value="/about/about-person.html#contact">Contact</option></select></nav><main id="content"><div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2019/10/uncut-jewel.html" class="u-url">Uncut Jewel</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2019/10/uncut-jewel.html" rel="bookmark">
            <time class="published dt-published" datetime="2019-10-21T06:03:55Z" itemprop="datePublished" title="2019-10-21 06:03 UTC">2019-10-21 06:03 UTC</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>Once a year, I take a month off from Caffeine and Alcohol (sometimes I'll throw
in something else like high fructose corn syrup). It was fairly arbitrary for
a number of years but now, having learned it's kind of a thing, I tend to
take my temperance in January. This time around, I've moved things up a few
months and am abstaining in October.</p>
<p>Giving up booze, even temporarily, doesn't mean that I want to give up
cocktails. Turns out, however, it's really hard to make something without
alcohol that doesn't end up tasting like juice or flavored water. <a class="reference external" href="https://seedlipdrinks.com/us">Seedlip</a>
is meant for this purpose and helps some but tends to fall pretty easily into
the juice or flavored water trap.</p>
<p>Through a mix of experimenting, <a class="reference external" href="https://seedlipdrinks.com/us">Seedlip</a> recipe ideas, <a class="reference external" href="https://www.theaviarybook.com/">Aviary Cocktail Book</a>
inspiration, staring at my liquor shelf, and starting at my fridge, I've had a
modicum of success. I seem to have hit on a formula that works well stirred
with ice and served Up:</p>
<section id="a-non-alcoholic-up-formula"><h2>A Non-Alcoholic Up formula</h2>
<ul class="simple">
<li><p>1 oz Seedlip (Spice 94 or Garden 108)</p></li>
<li><p>1/2 oz Verjus Blanc (Fusion Napa Valley)</p></li>
<li><p>1/2 oz Verjus Rouge (Fusion Napa Valley)</p></li>
<li><p>1/2 oz Cranberry Juice</p></li>
<li><p>1/2 oz Syrup (Simple, Demerara, etc.)</p></li>
<li><p>1-2 dash(es) bitters</p></li>
</ul>
<p>Gomme Syrup and Garden 108 seem to work well together but I think the best
that I've hit on so far is what I'm calling an Uncut Jewel:</p>
<a class="reference external image-reference" href="/images/posts/2019/10/uncut_jewel.jpg"><img alt="Uncut Jewel and its ingredients" class="align-right" src="/images/posts/2019/10/uncut_jewel.thumbnail.jpg"></a>
</section><section id="uncut-jewel-recipe"><h2>Uncut Jewel recipe</h2>
<ul class="simple">
<li><p>1 oz Seedlip Spice 94</p></li>
<li><p>1/2 oz Verjus Blanc (Fusion Napa Valley)</p></li>
<li><p>1/2 oz Verjus Rouge (Fusion Napa Valley)</p></li>
<li><p>1/2 oz Cranberry Juice</p></li>
<li><p>1/2 oz Maple Syrup (Grade A Amber Color, Rich Taste)</p></li>
<li><p>1 dash Salted Cacao Bitters (Workhorse Rye + Dandelion Chocolate)</p></li>
</ul>
<p>Stir with ice, serve up, and garnish with a Maraschino cherry.</p>
</section><section id="notes"><h2>Notes</h2>
<p>The drink leads with a note of allspice before taking on dominant notes of
fruit and nuts and finally closes with a hint of cocoa. Overall, it's well
balanced, sippable, and fairly complex, without assaulting the palette.</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html" class="u-url">An Arbitrary map from SQL with Go</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html" rel="bookmark">
            <time class="published dt-published" datetime="2019-10-21T04:13:56Z" itemprop="datePublished" title="2019-10-21 04:13 UTC">2019-10-21 04:13 UTC</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>I've been writing a lot of <a class="reference external" href="https://golang.org/">Go</a> lately and finding it a pleasant balance of
simplicity, power, functionality, and ecosystem support. In a lot of cases, I
am finding the guarantees afforded by type safety to be really nice but,
occasionally, the strict requirements can make some easy things much harder
than I want them to be.</p>
<p>Recently, I found myself wanting to test the behavior of some code the hit a
SQL database. Specifically, I wanted to check the results of a handful of
queries with varied columns and column types. With <a class="reference external" href="https://www.python.org/">Python</a>, I'd approach this
with <a class="reference external" href="https://www.sqlalchemy.org/">SQLAlchemy</a>, and turn the result into a <code>list</code> of <code>dict</code>s.</p>
<div class="code"><pre class="code python"><a id="rest_code_839d8e42d397480ca631903ae9f4b276-1" name="rest_code_839d8e42d397480ca631903ae9f4b276-1" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_839d8e42d397480ca631903ae9f4b276-1"></a><span class="k">def</span> <span class="nf">rows_to_dicts</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
<a id="rest_code_839d8e42d397480ca631903ae9f4b276-2" name="rest_code_839d8e42d397480ca631903ae9f4b276-2" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_839d8e42d397480ca631903ae9f4b276-2"></a>    <span class="sd">"""Covert a SQLAlchemy RowProxy into a list of dicts."""</span>
<a id="rest_code_839d8e42d397480ca631903ae9f4b276-3" name="rest_code_839d8e42d397480ca631903ae9f4b276-3" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_839d8e42d397480ca631903ae9f4b276-3"></a>    <span class="k">return</span> <span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">]</span>
</pre></div>
<p>From here, it's pretty straightforward to assert the result matches
expectations. If you're using <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a>, you'll also get really clear details on
where the results aren't what you expect. If you don't have the expected
columns or column types spot on, you're assertion will be off but you won't
hit any underlying errors at this point of your testing.</p>
<p><a class="reference external" href="https://golang.org/">Go</a>, on the other hand doesn't have quite as easy an option. The crux of the
problem is that the only way to get a result row out of a sql query is via
<a class="reference external" href="https://golang.org/pkg/database/sql/#Rows.Scan">(*Rows) Scan</a>, which
demands you know something about the structure of the result before you
query. Luckily <code>Scan</code> is happy to read anything into a <code>*string</code>
as long as you're asking for the right number of values so we can write an
equivalent function to the python list comprehension.</p>
<div class="code"><pre class="code go"><a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-1" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-1" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-1"></a><span class="kn">import</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-2" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-2" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-2"></a><span class="w">    </span><span class="s">"database/sql"</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-3" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-3" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-3"></a><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-4" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-4" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-4"></a>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-5" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-5" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-5"></a><span class="kd">func</span><span class="w"> </span><span class="nx">RowsToMaps</span><span class="p">(</span><span class="nx">rows</span><span class="w"> </span><span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">Rows</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-6" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-6" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-6"></a><span class="w">    </span><span class="nx">columns</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rows</span><span class="p">.</span><span class="nx">Columns</span><span class="p">()</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-7" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-7" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-7"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-8" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-8" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">nil</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-9" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-9" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-9"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-10" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-10" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-10"></a><span class="w">    </span><span class="nx">columnCount</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="nx">columns</span><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-11" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-11" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-11"></a>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-12" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-12" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-12"></a><span class="w">    </span><span class="nx">cursor</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">([]</span><span class="kd">interface</span><span class="p">{},</span><span class="w"> </span><span class="nx">columnCount</span><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-13" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-13" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-13"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="nx">columnCount</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-14" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-14" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-14"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">columnValue</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-15" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-15" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-15"></a><span class="w">        </span><span class="nx">cursor</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">columnValue</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-16" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-16" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-16"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-17" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-17" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-17"></a>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-18" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-18" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-18"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">resultMaps</span><span class="w"> </span><span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-19" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-19" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-19"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="nx">rows</span><span class="p">.</span><span class="nx">Next</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-20" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-20" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-20"></a><span class="w">        </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rows</span><span class="p">.</span><span class="nx">Scan</span><span class="p">(</span><span class="nx">cursor</span><span class="o">...</span><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-21" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-21" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-21"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-22" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-22" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-22"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">resultMaps</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-23" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-23" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-23"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-24" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-24" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-24"></a><span class="w">        </span><span class="nx">rowMap</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">columnCount</span><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-25" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-25" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-25"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">columnPtr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">cursor</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-26" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-26" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-26"></a><span class="w">            </span><span class="nx">key</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">columns</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-27" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-27" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-27"></a><span class="w">            </span><span class="kd">var</span><span class="w"> </span><span class="nx">columnStr</span><span class="w"> </span><span class="kt">string</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-28" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-28" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-28"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nx">columnStrPtr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">columnPtr</span><span class="p">.(</span><span class="o">*</span><span class="kt">string</span><span class="p">);</span><span class="w"> </span><span class="nx">columnStrPtr</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-29" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-29" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-29"></a><span class="w">                </span><span class="nx">columnStr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">*</span><span class="nx">columnStrPtr</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-30" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-30" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-30"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-31" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-31" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-31"></a><span class="w">            </span><span class="nx">rowMap</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">columnStr</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-32" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-32" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-32"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-33" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-33" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-33"></a><span class="w">        </span><span class="nx">resultMaps</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">append</span><span class="p">(</span><span class="nx">resultMaps</span><span class="p">,</span><span class="w"> </span><span class="nx">rowMap</span><span class="p">)</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-34" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-34" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-34"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-35" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-35" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-35"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">rows</span><span class="p">.</span><span class="nx">Err</span><span class="p">();</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-36" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-36" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">resultMaps</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-37" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-37" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-37"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-38" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-38" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-38"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">resultMaps</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span><span class="w"></span>
<a id="rest_code_abec8fc475884bed8bf640ee3d3a4191-39" name="rest_code_abec8fc475884bed8bf640ee3d3a4191-39" href="/blog/2019/10/an-arbitrary-map-from-sql-with-go.html#rest_code_abec8fc475884bed8bf640ee3d3a4191-39"></a><span class="p">}</span><span class="w"></span>
</pre></div>
<p>This, much like the <a class="reference external" href="https://www.python.org/">Python</a> above, gives us a list of maps of column name
to column value, with the minor caveats that all values are strings and
<code>NULL</code> values become empty strings. I found it a useful chunk of code,
so I thought I'd throw it up.</p>
<p>Sure, it's more verbose but sometimes that's the price we pay for dealing
with dynamic results in a staticly typed language. There are other prices
paid in the other direction.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2017/11/grenadine.html" class="u-url">Grenadine</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2017/11/grenadine.html" rel="bookmark">
            <time class="published dt-published" datetime="2017-11-06T05:30:20Z" itemprop="datePublished" title="2017-11-06 05:30 UTC">2017-11-06 05:30 UTC</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>In my ongoing quest to make delicious alcoholic beverages, I have increasingly
found myself digging into my ingredients.  Syrups, as a class of ingredient,
have received a decent amount of my attention.  As an aside, if you're buying
simple syrup, you are doing a lot of things wrong.  In my experience, it is
decidedly tricky to find decent grenadine, where decent is defined as being
made with real pomegranate and without high fructose corn syrup or food
coloring.  So, I've started to make my own:</p>
<section id="grenadine-1"><h2>Grenadine</h2>
<p>A pomegranate syrup that adds a sweet tartness to drinks and a distinctive
red color.  Notable in small quantities in a great many drinks and also as
the second ingredient in a Shirley Temple, a drink the actress was apparently
never fond of.</p>
<section id="ingredients"><h3>Ingredients</h3>
<ul class="simple">
<li><p>1 cup fresh Pomegranate Juice (~2 large pomegranates)</p></li>
<li><p>1 oz Pomegranate Molasses</p></li>
<li><p>1 1/2 cup White Sugar</p></li>
<li><p>1/16 tsp Xanthan Gum (optional)</p></li>
<li><p>1/2 tsp Orange Blossom Water</p></li>
<li><p>1 oz over-proof grain neutral spirit (Everclear or vodka)</p></li>
</ul>
<p class="more"><a href="/blog/2017/11/grenadine.html">Read more…</a></p></section></section>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2016/09/slowcooker-yogurt.html" class="u-url">Slowcooker Yogurt</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2016/09/slowcooker-yogurt.html" rel="bookmark">
            <time class="published dt-published" datetime="2016-09-06T06:30:48Z" itemprop="datePublished" title="2016-09-06 06:30 UTC">2016-09-06 06:30 UTC</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<a class="reference external image-reference" href="/images/posts/2016/09/yield.jpg"><img alt="Some jars of homemade yogurt" class="align-right" src="/images/posts/2016/09/yield.thumbnail.jpg"></a>
<p>I have a 14 month old daughter, a wife that likes yogurt with granola, and I
kind of like the stuff too. Needless to say, we go through a lot of yogurt in
my house. Specifically, we go through a lot of plain, whole milk, Greek yogurt.</p>
<p>We were recently visiting my wife's aunt and uncle (my daughter's graunt and
gruncle), and we had yogurt most mornings. They use an
<a class="reference external" href="https://www.easiyo.com/">EasiYo</a> to make their yogurt, which piqued my
curiosity.</p>
<p>Fancy yogurt is pretty expensive at the store, upwards of $7 or $8 per 32oz
container. Yogurt is just fermented milk and I've fermented plenty of things
before. I should be able to make yogurt, right?</p>
<p>So, how about <a class="reference external" href="https://www.easiyo.com/">EasiYo</a>? Turns out it's not that much cheaper.</p>
<p>We can do better, let's <a class="reference external" href="https://www.google.com/search?q=slowcooker+greek+yogurt">ask the Internet</a>.</p>
<p>Turns out it's pretty straightforward; I just finished our second batch
yesterday. It also turns out to be really good, and it's less than $2 per
32oz (milk choice depending).</p>
<p class="more"><a href="/blog/2016/09/slowcooker-yogurt.html">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2016/03/lets-encrypt-on-app-engine.html" class="u-url">Let's Encrypt on App Engine</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2016/03/lets-encrypt-on-app-engine.html" rel="bookmark">
            <time class="published dt-published" datetime="2016-03-13T07:25:01Z" itemprop="datePublished" title="2016-03-13 07:25 UTC">2016-03-13 07:25 UTC</time><span class="updated"> (updated
                    <time class="dt-updated" datetime="2018-09-09T07:03:28Z" itemprop="dateUpdated" title="2018-09-09 07:03 UTC">2018-09-09 07:03 UTC</time>)</span>
            </a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p><strong>UPDATE</strong>: <a class="reference external" href="https://cloudplatform.googleblog.com/2017/09/introducing-managed-SSL-for-Google-App-Engine.html">As of September, 2017</a>,
Google App Engine will <a class="reference external" href="https://cloud.google.com/appengine/docs/standard/python/securing-custom-domains-with-ssl">manage SSL certificates for you</a>.</p>
<hr class="docutils">
<p><a class="reference external" href="https://letsencrypt.org/">Let's Encrypt</a> is a fantastically convenient way
to get SSL certificates for your website without paying a bunch of money or
resorting to a <a class="reference external" href="https://en.wikipedia.org/wiki/Self-signed_certificate">self-signed certificate</a>. It's also pretty easy to set up.</p>
<p>Easy as it is to set up, the instructions don't really explain much about
setup for <a class="reference external" href="https://cloud.google.com/appengine/">App Engine</a>. It turns out to
be pretty straightforward.</p>
<p class="more"><a href="/blog/2016/03/lets-encrypt-on-app-engine.html">Read more…</a></p>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2016/02/internet-time-now-script.html" class="u-url">Internet Time Now script</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2016/02/internet-time-now-script.html" rel="bookmark">
            <time class="published dt-published" datetime="2016-02-05T19:40:05Z" itemprop="datePublished" title="2016-02-05 19:40 UTC">2016-02-05 19:40 UTC</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>On account of being mentioned by <a class="reference external" href="https://gimletmedia.com/show/reply-all/">Reply All</a>,
I've been listening to back episodes of
<a class="reference external" href="http://www.onthemedia.org/tags/tldr_podcast/">[TLDR]</a>. Listening to
<a class="reference external" href="http://www.onthemedia.org/story/15-internet-time/">#15 - Internet Time</a> caught
my attention and made me aware of
<a class="reference external" href="https://en.wikipedia.org/wiki/Swatch_Internet_Time">Swatch Internet Time</a>.
It's kind of impractical but also kind of fun, especially as I've been a little
annoyed at recording times across timezones for something meant to persist,
like this blog.</p>
<p>For fun, I whipped up a quick python implementation:</p>
<div class="code"><pre class="code python"><a id="rest_code_e1aa46e21320442ebde5fed161e21143-1" name="rest_code_e1aa46e21320442ebde5fed161e21143-1" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-1"></a><span class="kn">import</span> <span class="nn">datetime</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-2" name="rest_code_e1aa46e21320442ebde5fed161e21143-2" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-2"></a><span class="kn">import</span> <span class="nn">decimal</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-3" name="rest_code_e1aa46e21320442ebde5fed161e21143-3" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-3"></a>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-4" name="rest_code_e1aa46e21320442ebde5fed161e21143-4" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-4"></a><span class="k">def</span> <span class="nf">decimal_time</span><span class="p">(</span><span class="n">ts</span><span class="p">):</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-5" name="rest_code_e1aa46e21320442ebde5fed161e21143-5" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-5"></a>    <span class="n">mus_ts</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">+</span> <span class="n">ts</span><span class="o">.</span><span class="n">minute</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">ts</span><span class="o">.</span><span class="n">second</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000000</span> <span class="o">+</span> <span class="n">ts</span><span class="o">.</span><span class="n">microsecond</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-6" name="rest_code_e1aa46e21320442ebde5fed161e21143-6" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-6"></a>    <span class="n">mus_day</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">*</span> <span class="mi">1000000</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-7" name="rest_code_e1aa46e21320442ebde5fed161e21143-7" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-7"></a>    <span class="n">dec_time</span> <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="n">mus_ts</span><span class="p">)</span> <span class="o">/</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="n">mus_day</span><span class="p">)</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-8" name="rest_code_e1aa46e21320442ebde5fed161e21143-8" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-8"></a>    <span class="k">return</span> <span class="n">dec_time</span> <span class="o">*</span> <span class="mi">1000</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-9" name="rest_code_e1aa46e21320442ebde5fed161e21143-9" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-9"></a>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-10" name="rest_code_e1aa46e21320442ebde5fed161e21143-10" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-10"></a><span class="k">def</span> <span class="nf">internet_time_now</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-11" name="rest_code_e1aa46e21320442ebde5fed161e21143-11" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-11"></a>    <span class="n">precision</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="n">precision</span><span class="p">)))</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-12" name="rest_code_e1aa46e21320442ebde5fed161e21143-12" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-12"></a>    <span class="n">precision</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">precision</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="nb">int</span><span class="p">(</span><span class="n">precision</span><span class="p">)</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-13" name="rest_code_e1aa46e21320442ebde5fed161e21143-13" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-13"></a>    <span class="n">format_len</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">if</span> <span class="n">precision</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">4</span> <span class="o">+</span> <span class="n">precision</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-14" name="rest_code_e1aa46e21320442ebde5fed161e21143-14" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-14"></a>    <span class="n">format_str</span> <span class="o">=</span> <span class="s1">'@{{:0</span><span class="si">{l:d}</span><span class="s1">.0</span><span class="si">{p:d}</span><span class="s1">f}}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="n">format_len</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">precision</span><span class="p">)</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-15" name="rest_code_e1aa46e21320442ebde5fed161e21143-15" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-15"></a>    <span class="n">it_utc_p1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_e1aa46e21320442ebde5fed161e21143-16" name="rest_code_e1aa46e21320442ebde5fed161e21143-16" href="/blog/2016/02/internet-time-now-script.html#rest_code_e1aa46e21320442ebde5fed161e21143-16"></a>    <span class="k">return</span> <span class="n">format_str</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">decimal_time</span><span class="p">(</span><span class="n">it_utc_p1</span><span class="p">))</span>
</pre></div>
<p>Or, if you don't care about precision:</p>
<div class="code"><pre class="code python"><a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-1" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-1" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-1"></a><span class="kn">import</span> <span class="nn">datetime</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-2" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-2" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-2"></a>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-3" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-3" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-3"></a><span class="k">def</span> <span class="nf">decimal_time</span><span class="p">(</span><span class="n">ts</span><span class="p">):</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-4" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-4" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-4"></a>    <span class="n">s_ts</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">hour</span> <span class="o">*</span> <span class="mi">3600</span> <span class="o">+</span> <span class="n">ts</span><span class="o">.</span><span class="n">minute</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">+</span> <span class="n">ts</span><span class="o">.</span><span class="n">second</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-5" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-5" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-5"></a>    <span class="n">s_day</span> <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="mi">3600</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-6" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-6" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-6"></a>    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="n">s_ts</span> <span class="o">/</span> <span class="n">s_day</span><span class="p">)</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-7" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-7" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-7"></a>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-8" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-8" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-8"></a><span class="k">def</span> <span class="nf">internet_time_now</span><span class="p">():</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-9" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-9" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-9"></a>    <span class="n">it_utc_p1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-10" name="rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-10" href="/blog/2016/02/internet-time-now-script.html#rest_code_bab98f0e0ecd4842b3858ed73ccf1db0-10"></a>    <span class="k">return</span> <span class="s1">'@</span><span class="si">{:03d}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">decimal_time</span><span class="p">(</span><span class="n">it_utc_p1</span><span class="p">))</span>
</pre></div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2016/01/fixing-nikola-footnote-locations.html" class="u-url">Fixing Nikola Footnote Locations</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2016/01/fixing-nikola-footnote-locations.html" rel="bookmark">
            <time class="published dt-published" datetime="2016-01-23T23:44:17Z" itemprop="datePublished" title="2016-01-23 23:44 UTC">2016-01-23 23:44 UTC</time><span class="updated"> (updated
                    <time class="dt-updated" datetime="2018-04-16T06:06:57Z" itemprop="dateUpdated" title="2018-04-16 06:06 UTC">2018-04-16 06:06 UTC</time>)</span>
            </a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>Personally, I prefer to intersperse my footnote declarations with the text
that is being footnoted when writing my. For example:<a class="footnote-reference brackets" href="/blog/2016/01/fixing-nikola-footnote-locations.html#footnote-1" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<aside class="footnote brackets" id="footnote-1" role="note"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="/blog/2016/01/fixing-nikola-footnote-locations.html#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p>This is just an example.</p>
</aside><div class="code"><pre class="code ReST"><a id="rest_code_76518d5c4eee4a16b14f51b6415877c5-1" name="rest_code_76518d5c4eee4a16b14f51b6415877c5-1" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_76518d5c4eee4a16b14f51b6415877c5-1"></a>I might want to write something<span class="s">[#]_</span> where there's a footnote there.
<a id="rest_code_76518d5c4eee4a16b14f51b6415877c5-2" name="rest_code_76518d5c4eee4a16b14f51b6415877c5-2" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_76518d5c4eee4a16b14f51b6415877c5-2"></a>
<a id="rest_code_76518d5c4eee4a16b14f51b6415877c5-3" name="rest_code_76518d5c4eee4a16b14f51b6415877c5-3" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_76518d5c4eee4a16b14f51b6415877c5-3"></a><span class="p">..</span> <span class="nt">[#]</span> I put the footnote definition here.
<a id="rest_code_76518d5c4eee4a16b14f51b6415877c5-4" name="rest_code_76518d5c4eee4a16b14f51b6415877c5-4" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_76518d5c4eee4a16b14f51b6415877c5-4"></a>
<a id="rest_code_76518d5c4eee4a16b14f51b6415877c5-5" name="rest_code_76518d5c4eee4a16b14f51b6415877c5-5" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_76518d5c4eee4a16b14f51b6415877c5-5"></a>And then I continue on with the rest of my writing.
</pre></div>
<p>Wherever they are declared, I prefer to have all of my footnotes appear at the
end of my posts. By default, <a class="reference external" href="https://getnikola.com">Nikola</a>  puts the
footnotes in wherever they are declared. A simple snippet of javascript can be
used to fix the locations of footnotes:</p>
<div class="code"><pre class="code javascript"><a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-1" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-1" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-1"></a><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-2" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-2" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-2"></a><span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="s1">'.footnote'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">el</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-3" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-3" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-3"></a><span class="w">        </span><span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="w"></span>
<a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-4" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-4" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-4"></a><span class="w">            </span><span class="nx">$</span><span class="p">(</span><span class="nx">el</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s1">'.entry-content,.entry-summary'</span><span class="p">));</span><span class="w"></span>
<a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-5" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-5" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-5"></a><span class="w">    </span><span class="p">});</span><span class="w"></span>
<a id="rest_code_5400b295d8864b9b8d88d98c12da50a3-6" name="rest_code_5400b295d8864b9b8d88d98c12da50a3-6" href="/blog/2016/01/fixing-nikola-footnote-locations.html#rest_code_5400b295d8864b9b8d88d98c12da50a3-6"></a><span class="p">});</span><span class="w"></span>
</pre></div>
<p>Simply wrap in a &lt;script&gt; tag and include in the BODY_END section of conf.py
or add it to your theme.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2011/01/will-o-the-wisp.html" class="u-url">Will O' The Wisp</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2011/01/will-o-the-wisp.html" rel="bookmark">
            <time class="published dt-published" datetime="2011-01-16T20:04:00-08:00" itemprop="datePublished" title="2011-01-16 20:04 -0800">2011-01-16 20:04 -0800</time></a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>Continuing <a class="reference external" href="/blog/2010/10/ironhide.html">my earlier work</a>
in the realm of mixology, I would like to present my second cocktail
invention. The invention of this cocktail is the result of playing
around with gin,
<a class="reference external" href="http://en.wikipedia.org/wiki/Chartreuse_%28liqueur%29">Chartreuse</a>,
<a class="reference external" href="http://en.wikipedia.org/wiki/St._Germain_%28liqueur%29">St. Germain</a>, and
various other liqueurs in an attempt to make something tasty. This
cocktail earns its name, Will O' The Wisp, from its faint, ghostly,
green color.</p>
<section id="ingredients"><h2>Ingredients</h2>
<ul class="simple">
<li><p>3/4 oz Green Chartreuse</p></li>
<li><p>3/4 oz St. Germain</p></li>
<li><p>3/4 oz White Vermouth</p></li>
<li><p>1 dash Lavender Bitters</p></li>
<li><p>3 oz Dry Gin</p></li>
<li><p>1/4 oz Herbsaint or Absinth</p></li>
</ul></section><section id="recipe"><h2>Recipe</h2>
<ol class="arabic simple">
<li><p>Pour the Chartreuse, St. Germain, Vermouth, Bitters, and Gin into a
cocktail shaker</p></li>
<li><p>Pour the Herbsaint/Absinth into a chilled cocktail glass</p></li>
<li><p>Swirl the cocktail glass, coating the sides, and pouring off any excess
Herbsaint/Absinth</p></li>
<li><p>Add ice to the cocktail shaker and shake</p></li>
<li><p>Pour shaken cocktail into the prepared glass</p></li>
</ol></section><section id="notes"><h2>Notes</h2>
<p>The Herbsaint/Absinth can be skipped, though I don't recommend it. The Lavender
Bitters are also optional but very highly recommended. I would recommend
stirring this cocktail (instead of shaking) as the resulting beverage has a
very different appearance.</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2010/10/ironhide.html" class="u-url">Ironhide</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2010/10/ironhide.html" rel="bookmark">
            <time class="published dt-published" datetime="2010-10-29T00:02:16Z" itemprop="datePublished" title="2010-10-29 00:02 UTC">2010-10-29 00:02 UTC</time><span class="updated"> (updated
                    <time class="dt-updated" datetime="2011-01-17T05:30:30Z" itemprop="dateUpdated" title="2011-01-17 05:30 UTC">2011-01-17 05:30 UTC</time>)</span>
            </a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <p>Some number of weeks ago, having discovered <a class="reference external" href="http://en.wikipedia.org/wiki/Maraschino">Maraschino
liqueur</a>, I concocted a
variation on my beloved
<a class="reference external" href="http://en.wikipedia.org/wiki/Manhattan_%28cocktail%29">Manhattan</a>. I
have been meaning to write up the recipe here for a while but had been
stuck on coming up with a name; I needed a name befitting a strong
whiskey cocktail with connections to myself and the color red. Having
thought for quite a while and come up with a bunch of names that were
already taken by other cocktails, I settled on naming the drink after
the grizzled, old Autobot,
<a class="reference external" href="http://en.wikipedia.org/wiki/Ironhide">Ironhide</a>. So, without
further ado:</p>
<section id="ironhide-recipe"><h2>Ironhide recipe</h2>
<ul class="simple">
<li><p>3 oz Bourbon whiskey</p></li>
<li><p>3/4 oz Maraschino</p></li>
<li><p>1/4 oz grenadine</p></li>
<li><p>2 dashes Angostura bitters</p></li>
<li><p>1 Maraschino cherry</p></li>
</ul>
<p>Serve shaken or stirred with ice in a cocktail glass; garnish with the
Maraschino cherry.</p>
</section><section id="notes"><h2>Notes</h2>
<p>I have mostly been drinking these on the rocks, which is an acceptable
but inferior variation. Being a Manhattan-like cocktail, up-high is
really the correct way to serve an Ironhide.</p>
<p>Corn syrup based grenadine or "maraschino" cherries will ruin the
flavors imparted by the bitters and Maraschino; you will make a better
cocktail by skipping the grenadine and cherry than using cheap, fake
ones.</p>
</section>
</div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="/blog/2010/03/a-cute-geometry-problem.html" class="u-url">A cute geometry problem</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                George Leslie-Waksman
            </span></p>
            <p class="dateline">
            <a href="/blog/2010/03/a-cute-geometry-problem.html" rel="bookmark">
            <time class="published dt-published" datetime="2010-03-11T19:57:13Z" itemprop="datePublished" title="2010-03-11 19:57 UTC">2010-03-11 19:57 UTC</time><span class="updated"> (updated
                    <time class="dt-updated" datetime="2010-05-06T23:26:10Z" itemprop="dateUpdated" title="2010-05-06 23:26 UTC">2010-05-06 23:26 UTC</time>)</span>
            </a>
            </p>
        </div>
    </header><div class="p-summary entry-summary">
    <div>
<p>I came across a cute geometry problem recently and I would like to pass it
along.</p>
<section id="problem"><h2>Problem</h2>
<section id="problem-statement"><h3>Problem Statement</h3>
<div class="row docutils container">
<div class="four columns docutils container">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" class="u-max-full-width" viewbox="0 0 1 1"><g stroke="black" stroke-width="0.005"><rect x="0" y="0" width="1" height="1" fill="white"></rect><path fill="red" d="
            M 0.5 0.1339745962155614
            A 1 1, 0, 0, 1, 0.8660254037844386 0.5
            A 1 1, 0, 0, 1, 0.5 0.8660254037844386
            A 1 1, 0, 0, 1, 0.1339745962155614 0.5
            A 1 1, 0, 0, 1, 0.5 0.1339745962155614
            Z"></path><path fill="none" d="M 0 0 A 1 1, 0, 0, 0, 1 1 L 1 0 Z"></path><path fill="none" d="M 0 1 A 1 1, 0, 0, 0, 1 0 L 0 0 Z"></path><path fill="none" d="M 1 1 A 1 1, 0, 0, 0, 0 0 L 0 1 Z"></path><path fill="none" d="M 1 0 A 1 1, 0, 0, 0, 0 1 L 1 1 Z"></path></g></svg>
</div>
<div class="eight columns docutils container">
<p>If the sides of the square are of unit length and all curves are
circular arcs, what is the area of the highlighted region?</p>
<p>Although substantially easier with the use of calculus or trigonometry,
this problem can be solved entirely with basic geometry (no weird laws
you might have forgotten since high school are necessary).</p>
<p>I have derived a geometric solution, which follows, but I highly
recommend trying to do it yourself first.</p>
</div>
</div>
<p class="more"><a href="/blog/2010/03/a-cute-geometry-problem.html">Read more…</a></p></section></section>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><div class="row pager">
            <a class="button u-pull-right" href="/index-3.html" rel="next">Older posts</a>
        </div>
        </nav><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script><script>
                renderMathInElement(document.body,
                    {
                        
delimiters: [
    {left: "\\begin{equation*}", right: "\\end{equation*}", display: true},
    {left: "\\[", right: "\\]", display: true},
    {left: "\\(", right: "\\)", display: false}
]

                    }
                );
            </script></main><footer id="footer"><p>
    Contents ©2004-2022 <a href="/about/about-person.html">George Leslie-Waksman</a>
    | Source:
        <img src="/icons/github.svg" class="svg-icon"><a href="https://github.com/gwax/www-gwax">GitHub</a>
    | Powered by <a href="https://getnikola.com">Nikola</a>
    | Styled with <a href="http://getskeleton.com">Skeleton</a>
    | 
<a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">
    <img src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" alt="Creative Commons License BY-SA" style="border:0;margin:0;"></a>

</p>
            
        </footer>
</div>
    
            <script src="/assets/js/baguetteBox.min.js"></script><script src="/assets/js/webfontloader.js"></script><script src="/assets/js/fancydates.js"></script><script src="/assets/js/theme.js"></script><!-- fancy dates --><script>
    fancydates(1);
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    WebFont.load({
        google: {
            families: ['IBM Plex Mono', 'Raleway', 'Pacifico']
        }
    });
    </script>
</body>
</html>
